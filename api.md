ë³¸ ì„œë¹„ìŠ¤ëŠ” í˜„ì¥ ì´ë¯¸ì§€(CCTV ìº¡ì²˜, ë“œë¡ , íœ´ëŒ€í° ì‚¬ì§„)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ 

ì“°ë ˆê¸° ì¢…ë¥˜Â·ê°œìˆ˜ë¥¼ ë¶„ì„í•˜ê³ ,

ë¶„ì„ ê²°ê³¼ë¥¼ í™œìš©í•´ ì²­ì†Œ ì¸ì› ëª¨ì§‘(êµ¬ì¸ê¸€)ê¹Œì§€ ì´ì–´ì§€ëŠ”

ì›¹ ê¸°ë°˜ í™˜ê²½ ê´€ë¦¬ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

==================================================

1ï¸âƒ£ ì´ë¯¸ì§€ ì—…ë¡œë“œ & ë¶„ì„

API
`POST /analysis/image`

ì„¤ëª…

í˜„ì¥ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ë©´ AI ë¶„ì„ì„ í†µí•´

ì“°ë ˆê¸° ì¢…ë¥˜Â·ê°œìˆ˜ì™€ ì²­ì†Œì— í•„ìš”í•œ ì¸ì›Â·ë„êµ¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

Request

Headers

`Content-Type: multipart/form-data`

Body (form-data)

- `image` (File, jpg/png, í•„ìˆ˜)
    
    ë¶„ì„í•  í˜„ì¥ ì´ë¯¸ì§€
    
- `location` (string, ì„ íƒ)
    
    ì´¬ì˜ ìœ„ì¹˜
    

---

Response (200 OK)

```json
{
	"analysis_id": 12,
	"image_name": "imageName.jpg",
	"trash_summary": {
		"plastic": 14,
		"can": 6,
		"net": 1
	},
	"recommended_resources": {
		"people": 5,
		"tools": {
			"tongs": 5,
			"bags": 8,
			"gloves": 5,
			"cutter": 1
		},
		"estimated_time_min": 80
	},
	"created_at": "2025-01-18T14:32:11"
}
```

---

Server-side Flow

1. ì´ë¯¸ì§€ ì—…ë¡œë“œ
2. ì„œë²„ ë””ìŠ¤í¬ì— ì´ë¯¸ì§€ ì €ì¥ (**/uploads**)
3. AI ê°ì²´ íƒì§€ (ì“°ë ˆê¸° ì¢…ë¥˜ ë° ê°œìˆ˜)
4. ê·œì¹™ ê¸°ë°˜ ì¸ì›Â·ë„êµ¬ ì‚°ì¶œ
5. ë¶„ì„ ê²°ê³¼ DB ì €ì¥
6. ê²°ê³¼ ë°˜í™˜

==================================================

2ï¸âƒ£ ë¶„ì„ ì´ë ¥ ì „ì²´ ì¡°íšŒ

API

`GET /analysis/history`

ì„¤ëª…

ì§€ê¸ˆê¹Œì§€ ìˆ˜í–‰ëœ ëª¨ë“  ì´ë¯¸ì§€ ë¶„ì„ ì´ë ¥ì„

ì‹œê°„ìˆœìœ¼ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.

---

Response (200 OK)

```json
{
	"histories": [
		{
			"analysis_id": 12,
			"image_url": "/uploads/2025-01-18/uuid.jpg",
			"location": "ê´‘ì•ˆë¦¬",
			"trash_summary": {
				"plastic": 14,
				"can": 6
			},
			"created_at": "2025-01-18T14:32:11"
		},
		{
			"analysis_id": 11,
			"image_url": "/uploads/2025-01-17/uuid2.jpg",
			"location": "í•´ìš´ëŒ€",
			"trash_summary": {
				"plastic": 5,
				"glass": 2
			},
			"created_at": "2025-01-17T10:21:03"
		}
	]
}
```

==================================================

3ï¸âƒ£ ë¶„ì„ ID ê¸°ë°˜ ë‹¨ì¼ ê²°ê³¼ ì¡°íšŒ

API

`GET /analysis/{analysis_id}`

ì„¤ëª…

íŠ¹ì • ë¶„ì„ IDì— ëŒ€í•œ ìƒì„¸ ë¶„ì„ ê²°ê³¼ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

êµ¬ì¸ê¸€ ì‘ì„± ì „, ë¶„ì„ ê²°ê³¼ í™•ì¸ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

Response (200 OK)

```json
{
	"analysis_id": 12,
	"image_url": "/uploads/2025-01-18/uuid.jpg",
	"location": "í•´ë³€",
	"area_type": "beach",
	"trash_summary": {
		"plastic": 14,
		"can": 6,
		"net": 1
	},
	"recommended_resources": {
		"people": 5,
		"tools": {
			"tongs": 5,
			"bags": 8,
			"gloves": 5,
			"cutter": 1
		},
		"estimated_time_min": 80
	},
	"created_at": "2025-01-18T14:32:11"
}
```

==================================================

4ï¸âƒ£ ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ êµ¬ì¸ê¸€ ìƒì„±

API

`POST /recruitment/from-analysis/{analysis_id}`

ì„¤ëª…

ì„ íƒí•œ ë¶„ì„ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ

ìì›ë´‰ì‚¬ì ëª¨ì§‘ìš© êµ¬ì¸ê¸€ì„ ìë™ ìƒì„±í•©ë‹ˆë‹¤.

(ê´€ë¦¬ìëŠ” ìƒì„±ëœ ë‚´ìš©ì„ ìˆ˜ì • í›„ ê²Œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

---

Request (JSON)

```json
{
	"activity_date": "2025-01-25",
	"meeting_place": "í•´ë³€ Aêµ¬ì—­ ì£¼ì°¨ì¥",
	"additional_note": "ì¥ê°‘ ë° ê°œì¸ ë¬¼ì€ ì§€ì°¸ ë°”ëë‹ˆë‹¤."
}
```

---

Response (200 OK)

```json
{
	"title": "[ìì›ë´‰ì‚¬ ëª¨ì§‘] í•´ë³€ Aêµ¬ì—­ í™˜ê²½ ì •í™” í™œë™",
	"content": "í•´ë³€ Aêµ¬ì—­ì—ì„œ í”Œë¼ìŠ¤í‹±, ìº”, íê·¸ë¬¼ ì“°ë ˆê¸°ê°€ ë‹¤ìˆ˜ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n\ní˜„ì¬ ë¶„ì„ ê²°ê³¼ ê¸°ì¤€ìœ¼ë¡œ ì•½ 5ëª…ì˜ ë´‰ì‚¬ ì¸ì›ì´ í•„ìš”í•˜ë©°, ì§‘ê²ŒÂ·ë§ˆëŒ€Â·ì¥ê°‘ì´ ì œê³µë  ì˜ˆì •ì…ë‹ˆë‹¤.\n\nì˜ˆìƒ ì†Œìš” ì‹œê°„ì€ ì•½ 80ë¶„ì´ë©°, ì•ˆì „í•œ í™˜ê²½ ì •í™”ë¥¼ ìœ„í•´ ë§ì€ ì°¸ì—¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤.",
	"required_people": 5,
	"recommended_tools": {
		"tongs": 5,
		"bags": 8,
		"gloves": 5,
		"cutter": 1
	},
	"activity_date": "2025-01-25",
	"meeting_place": "í•´ë³€ Aêµ¬ì—­ ì£¼ì°¨ì¥"
}
```

==================================================

5ï¸âƒ£ ì •ì  ì´ë¯¸ì§€ ì ‘ê·¼

API

`GET /uploads/{filename}`

ì„¤ëª…

ì—…ë¡œë“œëœ ì´ë¯¸ì§€ëŠ” ì„œë²„ ê²½ë¡œë¥¼ í†µí•´

ì§ì ‘ ì ‘ê·¼ ë° í™”ë©´ í‘œì‹œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

==================================================

6ï¸âƒ£ Error Responses

400 Bad Request

```json
{ "message": "Invalid request or image file" }
```

404 Not Found

```json
{ "message": "Analysis not found" }
```

413 Payload Too Large

```json
{ "message": "Image size exceeds limit" }
```

==================================================

7ï¸âƒ£ Hackathon Notes (ì„¤ê³„ ì˜ë„)

- ì´ë¯¸ì§€ ê¸°ë°˜ ë¶„ì„ìœ¼ë¡œ ë¹ ë¥¸ MVP êµ¬í˜„
- ë¶„ì„ ì´ë ¥ ê´€ë¦¬ë¡œ ì›¹ì„œë¹„ìŠ¤ êµ¬ì¡° í™•ë³´
- ë¶„ì„ ê²°ê³¼ â†’ êµ¬ì¸ê¸€ ìƒì„±ê¹Œì§€ ì‹¤ì œ ì—…ë¬´ íë¦„ ë°˜ì˜
- ì‹¤ì„œë¹„ìŠ¤ í™•ì¥ ì‹œ ì‹¤ì‹œê°„ CCTV ë° í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ ì—°ë™ ê°€ëŠ¥

==================================================

8ï¸âƒ£ êµ¬ì¸ê¸€ ê²Œì‹œ

API

`POST /recruitment/{recruitment_id}/publish`

ì„¤ëª…

ì´ë¯¸ ìƒì„±ë˜ì–´ **DBì— ì €ì¥ëœ êµ¬ì¸ê¸€(recruitment)** ì„

ì‹¤ì œë¡œ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œë˜ëŠ” **ê²Œì‹œ ìƒíƒœë¡œ ì „í™˜**í•©ë‹ˆë‹¤.

---

Request

ì—†ìŒ

(ê²Œì‹œ ëŒ€ìƒì€ URLì˜ recruitment_idë¡œ ì‹ë³„)

---

Response (200 OK)

```json
{
	"recruitment_id": 7,
	"status": "PUBLISHED",
	"published_at": "2025-01-18T15:30:12"
}
```

---

Server-side Behavior

1. recruitment_idë¡œ êµ¬ì¸ê¸€ ì¡°íšŒ
2. ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° 404 ë°˜í™˜
3. ìƒíƒœë¥¼ DRAFT â†’ PUBLISHEDë¡œ ë³€ê²½
4. ê²Œì‹œ ì‹œê°(published_at) ê¸°ë¡
5. ê²°ê³¼ ë°˜í™˜

==================================================

9ï¸âƒ£ êµ¬ì¸ê¸€ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ

API

`GET /recruitment`

ì„¤ëª…

í˜„ì¬ ìƒì„±ëœ êµ¬ì¸ê¸€ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

status query parameterì„ í†µí•´ ìƒíƒœë³„ ì¡°íšŒ

---

---

Response (200 OK)

```json
{
	"recruitments": [
		{
			"recruitment_id": 7,
			"title": "[ìì›ë´‰ì‚¬ ëª¨ì§‘] í•´ë³€ Aêµ¬ì—­ í™˜ê²½ ì •í™” í™œë™",
			"required_people": 5,
			"activity_date": "2025-01-25",
			"meeting_place": "í•´ë³€ Aêµ¬ì—­ ì£¼ì°¨ì¥",
			"status": "analyzed",
			"created_at": "2025-01-18T15:10:44",
			"estimated_time_min": 60,
		},
		{
			"recruitment_id": 6,
			"title": "[ìì›ë´‰ì‚¬ ëª¨ì§‘] í•˜ì²œ ì •í™” í™œë™",
			"required_people": 3,
			"activity_date": "2025-01-22",
			"meeting_place": "â—‹â—‹êµ í•˜ë‹¨",
			"status": "uploaded",
			"created_at": "2025-01-17T16:02:11",
			"estimated_time_min": 60,
		}
	]

```

---

==================================================

ğŸ”Ÿ êµ¬ì¸ê¸€ ê°œë³„ ì¡°íšŒ

API

GET /recruitment/{recruitment_id}

ì„¤ëª…

íŠ¹ì • êµ¬ì¸ê¸€ì˜ ìƒì„¸ ë‚´ìš©ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

---

Response (200 OK)

```json
{
	"recruitment_id": 7,
	"title": "[ìì›ë´‰ì‚¬ ëª¨ì§‘] í•´ë³€ Aêµ¬ì—­ í™˜ê²½ ì •í™” í™œë™",
	"content": "í•´ë³€ Aêµ¬ì—­ì—ì„œ í”Œë¼ìŠ¤í‹±, ìº”, íê·¸ë¬¼ ì“°ë ˆê¸°ê°€ ë‹¤ìˆ˜ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n\ní˜„ì¬ ë¶„ì„ ê²°ê³¼ ê¸°ì¤€ìœ¼ë¡œ ì•½ 5ëª…ì˜ ë´‰ì‚¬ ì¸ì›ì´ í•„ìš”í•˜ë©°, ì§‘ê²ŒÂ·ë§ˆëŒ€Â·ì¥ê°‘ì´ ì œê³µë  ì˜ˆì •ì…ë‹ˆë‹¤.\n\nì˜ˆìƒ ì†Œìš” ì‹œê°„ì€ ì•½ 80ë¶„ì´ë©°, ì•ˆì „í•œ í™˜ê²½ ì •í™”ë¥¼ ìœ„í•´ ë§ì€ ì°¸ì—¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤.",
	"required_people": 5,
	"recommended_tools": {
		"tongs": 5,
		"bags": 8,
		"gloves": 5,
		"cutter": 1
	},
	"estimated_time_min": 80,
	"activity_date": "2025-01-25",
	"meeting_place": "í•´ë³€ Aêµ¬ì—­ ì£¼ì°¨ì¥",
	"status": "uploaded",
	"created_at": "2025-01-18T15:10:44",
	"published_at": "2025-01-18T15:30:12"
}
```

==================================================

ğŸ” ì „ì²´ íë¦„ ìš”ì•½ (API ê´€ì )

1. ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ ë¶„ì„ ê²°ê³¼ ìƒì„±
2. ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ êµ¬ì¸ê¸€ ìƒì„± (DRAFT)
3. ê´€ë¦¬ì ê²€í†  í›„ êµ¬ì¸ê¸€ ê²Œì‹œ (PUBLISHED)
4. ì‚¬ìš©ìì—ê²Œ ê²Œì‹œëœ êµ¬ì¸ê¸€ ëª©ë¡/ìƒì„¸ ì œê³µ

â†’ **ë¶„ì„ â†’ ì˜ì‚¬ê²°ì • â†’ ì‹¤í–‰(ëª¨ì§‘)** ì´ í•˜ë‚˜ì˜ ì›¹ì„œë¹„ìŠ¤ íë¦„ìœ¼ë¡œ ì™„ì„±ë¨

---